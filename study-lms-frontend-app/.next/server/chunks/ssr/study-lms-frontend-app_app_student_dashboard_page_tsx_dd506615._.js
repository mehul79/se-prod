module.exports=[4156,a=>{"use strict";var b=a.i(40648),c=a.i(42538),d=a.i(64780),e=a.i(61045),f=a.i(35153),g=a.i(33567),h=a.i(9690),i=a.i(13327),j=a.i(46392),k=a.i(53353),l=a.i(47214),m=a.i(10914),n=a.i(2981),o=a.i(29596),p=a.i(48282),q=a.i(38418),r=a.i(62522),s=a.i(33487);let t=(0,a.i(1140).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var u=a.i(24615);let v=process.env.NEXT_PUBLIC_API_URL||"http://localhost:4000";function w(){let a=(0,d.useAuthStore)(a=>a.currentUser),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)("cgpa");(0,c.useEffect)(()=>{if(!a)return;let b=!1;return async function(){z(!0),B(null);try{let c=a.id||"student1",d=await fetch(`${v}/api/student-dashboard/${c}`);if(!d.ok)throw Error("Failed to load dashboard");let e=await d.json();b||x(e)}catch(a){console.error(a),b||B("Could not load dashboard data")}finally{b||z(!1)}}(),()=>{b=!0}},[a]);let E=(0,c.useMemo)(()=>w?.semesterReports?.length?w.semesterReports[0]:null,[w]),F=(0,c.useMemo)(()=>w?.recentResults.map(a=>({name:a.assessmentId,score:a.percentage,marks:a.totalMarks}))??[],[w]);return a?(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:["Welcome, ",a.name,"!"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Here's your learning overview"}),y&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Loading dashboard..."}),A&&(0,b.jsx)("p",{className:"text-xs text-destructive mt-1",children:A})]}),E&&w&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsx)(e.Card,{className:"border-border/50",children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"CGPA"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-primary mt-2",children:E.cgpa.toFixed(2)})]}),(0,b.jsx)(t,{className:"w-8 h-8 text-primary/60"})]})})}),(0,b.jsx)(e.Card,{className:"border-border/50",children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground font-medium",children:["SGPA (Sem ",E.semester,")"]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-accent mt-2",children:E.sgpa.toFixed(2)})]}),(0,b.jsx)(s.BookOpen,{className:"w-8 h-8 text-accent/60"})]})})}),(0,b.jsx)(e.Card,{className:"border-border/50",children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Credits"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-foreground mt-2",children:E.enrolledCredits})]}),(0,b.jsx)(q.CheckCircle,{className:"w-8 h-8 text-green-500/60"})]})})}),(0,b.jsx)(e.Card,{className:"border-border/50",children:(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Pending"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-destructive mt-2",children:w.pendingAssignments.length})]}),(0,b.jsx)(r.Clock,{className:"w-8 h-8 text-destructive/60"})]})})})]}),w&&(0,b.jsxs)(e.Card,{className:"border-border/50",children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"Profile Overview"}),(0,b.jsx)(e.CardDescription,{children:"CGPA across semesters, branch, and current subjects"})]}),(0,b.jsxs)("div",{className:"inline-flex gap-2 rounded-lg border border-border/40 p-1 bg-background/40",children:[(0,b.jsx)(g.Button,{size:"sm",variant:"cgpa"===C?"default":"ghost",onClick:()=>D("cgpa"),children:"CGPA"}),(0,b.jsx)(g.Button,{size:"sm",variant:"semesters"===C?"default":"ghost",onClick:()=>D("semesters"),children:"Semesters"}),(0,b.jsx)(g.Button,{size:"sm",variant:"subjects"===C?"default":"ghost",onClick:()=>D("subjects"),children:"Subjects"})]})]}),(0,b.jsxs)(e.CardContent,{children:["cgpa"===C&&E&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Overall CGPA"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-primary",children:E.cgpa.toFixed(2)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Branch: ",w.student.branch," â€¢ Roll: ",w.student.rollNumber]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last 4 semesters"}),(0,b.jsx)("ul",{className:"text-sm text-foreground space-y-1",children:w.cgpaTrend.map(a=>(0,b.jsxs)("li",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:a.semester}),(0,b.jsx)("span",{className:"font-medium",children:a.cgpa.toFixed(2)})]},a.semester))})]})]}),"semesters"===C&&(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-border/40",children:[(0,b.jsx)("th",{className:"py-2 text-left text-muted-foreground",children:"Semester"}),(0,b.jsx)("th",{className:"py-2 text-left text-muted-foreground",children:"Year"}),(0,b.jsx)("th",{className:"py-2 text-left text-muted-foreground",children:"SGPA"}),(0,b.jsx)("th",{className:"py-2 text-left text-muted-foreground",children:"CGPA"}),(0,b.jsx)("th",{className:"py-2 text-left text-muted-foreground",children:"Credits"})]})}),(0,b.jsx)("tbody",{children:w.semesterReports.map(a=>(0,b.jsxs)("tr",{className:"border-b border-border/20",children:[(0,b.jsxs)("td",{className:"py-2",children:["Sem ",a.semester]}),(0,b.jsx)("td",{className:"py-2",children:a.year}),(0,b.jsx)("td",{className:"py-2",children:a.sgpa.toFixed(2)}),(0,b.jsx)("td",{className:"py-2",children:a.cgpa.toFixed(2)}),(0,b.jsxs)("td",{className:"py-2",children:[a.enrolledCredits,"/",a.totalCredits]})]},a.semester))})]})}),"subjects"===C&&(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:w.subjects.map(a=>(0,b.jsxs)("div",{className:"p-3 rounded-lg border border-border/30 bg-secondary/20 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.code})]}),(0,b.jsxs)(f.Badge,{variant:"outline",children:[a.credits," credits"]})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w&&(0,b.jsxs)(e.Card,{className:"border-border/50 lg:col-span-2",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Recent Results"}),(0,b.jsx)(e.CardDescription,{children:"Your latest assessment scores"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[w.recentResults.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-secondary/30 rounded-lg border border-border/30",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"font-medium text-foreground",children:["Assessment ",a.assessmentId]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.submittedAt})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-bold text-lg text-primary",children:[a.marksObtained,"/",a.totalMarks]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.percentage,"%"]})]})]},a.id)),0===w.recentResults.length&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No recent results available."})]})})]}),(0,b.jsxs)(e.Card,{className:"border-border/50",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Performance"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)(p.ResponsiveContainer,{width:"100%",height:200,children:(0,b.jsxs)(h.BarChart,{data:F,children:[(0,b.jsx)(n.CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),(0,b.jsx)(l.XAxis,{dataKey:"name",tick:{fontSize:12}}),(0,b.jsx)(m.YAxis,{tick:{fontSize:12}}),(0,b.jsx)(o.Tooltip,{contentStyle:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)"}}),(0,b.jsx)(i.Bar,{dataKey:"score",fill:"var(--color-primary)"})]})})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w&&(0,b.jsxs)(e.Card,{className:"border-border/50 lg:col-span-2",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"CGPA Trend"}),(0,b.jsx)(e.CardDescription,{children:"Your academic progress over semesters"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)(p.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(j.LineChart,{data:w.cgpaTrend,children:[(0,b.jsx)(n.CartesianGrid,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),(0,b.jsx)(l.XAxis,{dataKey:"semester"}),(0,b.jsx)(m.YAxis,{domain:[7,9]}),(0,b.jsx)(o.Tooltip,{contentStyle:{backgroundColor:"var(--color-card)",border:"1px solid var(--color-border)"}}),(0,b.jsx)(k.Line,{type:"monotone",dataKey:"cgpa",stroke:"var(--color-accent)",strokeWidth:2,dot:{fill:"var(--color-primary)",r:5}})]})})})]}),E&&(0,b.jsxs)(e.Card,{className:"border-border/50",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"text-lg",children:["Semester ",E.semester]}),(0,b.jsx)(e.CardDescription,{children:E.year})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"p-3 bg-secondary/30 rounded-lg border border-border/30",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Courses"}),(0,b.jsxs)("p",{className:"font-bold text-foreground",children:[E.courses.length," courses"]})]}),(0,b.jsxs)("div",{className:"p-3 bg-secondary/30 rounded-lg border border-border/30",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Credits"}),(0,b.jsxs)("p",{className:"font-bold text-foreground",children:[E.enrolledCredits,"/",E.totalCredits]})]}),(0,b.jsx)(g.Button,{className:"w-full bg-transparent",variant:"outline",children:(0,b.jsx)(u.default,{href:"/student/results",children:"View Details"})})]})]})]}),w&&(0,b.jsxs)(e.Card,{className:"border-border/50",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Pending Assignments"}),(0,b.jsx)(e.CardDescription,{children:"Tasks that need your attention"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[w.pendingAssignments.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-secondary/30 rounded-lg border border-border/30 hover:border-primary/30 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.title}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Deadline: ",a.deadline]})]}),(0,b.jsxs)(f.Badge,{variant:"outline",children:[a.totalMarks," marks"]})]},a.id)),0===w.pendingAssignments.length&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No pending assignments. You're all caught up!"})]})})]})]}):(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Please log in to view your dashboard."})})}a.s(["default",()=>w],4156)}];

//# sourceMappingURL=study-lms-frontend-app_app_student_dashboard_page_tsx_dd506615._.js.map